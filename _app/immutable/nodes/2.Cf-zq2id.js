import{s as q,n as A,r as H,b as z,e as R}from"../chunks/scheduler.BvLojk_z.js";import{S as B,i as D,e as T,s as L,c as I,y as F,h as N,o as f,j as b,z as C,A as O,g as v}from"../chunks/index.Cw0QpTS_.js";import{w as U}from"../chunks/index.BGTSHx9J.js";const V=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];async function k(r){const e=new Image;return e.src=r,new Promise(o=>{e.onload=l=>{const t=l.target;if(console.log(`Loaded image ${r} with w: ${t.width}, h:${t.height}`),t.width!=t.height)return console.log("This image is invalid!"),console.log("The width must be equal to the height."),o(null),null;if(t.width%6!=0)return console.log("This image is invalid!"),console.log("The size must be divisible by 6."),o(null),null;const a=t.width,s=a/6,h=new OffscreenCanvas(t.width,t.height).getContext("2d");h.drawImage(t,0,0);const n=h.getImageData(0,0,a,a).data,c=new Map;for(let m=0;m<36;m++){const w=m%6*s,i=Math.floor(m/6)*s,M=V[m];let g=w+6,_=i+6,y=w,x=i;for(let u=w;u<w+6;u++)for(let d=i;d<i+6;d++)n[4*(d*a+u)+3]>0&&(g=Math.min(g,u),_=Math.min(_,d),y=Math.max(y,u),x=Math.max(x,d));const P=[];for(let u=g;u<=y;u++)for(let d=_;d<=x;d++){let S=n[4*(d*a+u)+3];P.push(S>0)}const j=new E(y-g+1,x-_+1,P);c.set(M,j)}o(c)}})}class E{constructor(e,o,l){this.width=e,this.height=o,this.data=l}draw(e,o,l){for(let t=0;t<this.width;t++)for(let a=0;a<this.height;a++)this.data[a*this.width+t]&&e.fillRect(a+l,t+o,1,1);return o+this.width+1}}const G=!1,J=!0,K=async()=>({font:await k("font/5px.png")}),$=Object.freeze(Object.defineProperty({__proto__:null,load:K,prerender:J,ssr:G},Symbol.toStringTag,{value:"Module"}));function Q(r){let e,o="",l,t,a,s,p,h;return{c(){e=T("canvas"),e.innerHTML=o,l=L(),t=T("input"),a=L(),s=T("input"),this.h()},l(n){e=I(n,"CANVAS",{width:!0,height:!0,class:!0,"data-svelte-h":!0}),F(e)!=="svelte-176hi6v"&&(e.innerHTML=o),l=N(n),t=I(n,"INPUT",{type:!0,name:!0,id:!0}),a=N(n),s=I(n,"INPUT",{type:!0,name:!0,id:!0}),this.h()},h(){f(e,"width","16"),f(e,"height","16"),f(e,"class","svelte-1qchpe9"),f(t,"type","text"),f(t,"name",""),f(t,"id",""),f(s,"type","color"),f(s,"name",""),f(s,"id","")},m(n,c){b(n,e,c),r[6](e),b(n,l,c),b(n,t,c),C(t,r[1]),b(n,a,c),b(n,s,c),C(s,r[2]),p||(h=[O(t,"input",r[7]),O(s,"input",r[8])],p=!0)},p(n,[c]){c&2&&t.value!==n[1]&&C(t,n[1]),c&4&&C(s,n[2])},i:A,o:A,d(n){n&&(v(e),v(l),v(t),v(a),v(s)),r[6](null),p=!1,H(h)}}}function W(r,e,o){let l,t,{data:a}=e,s=U("default");z(r,s,i=>o(1,l=i));let p=U("#ffffff");z(r,p,i=>o(2,t=i));let h;function n(){var g,_;if(h==null)return;const i=h.getContext("2d");i==null||i.clearRect(0,0,h.width,h.height);const M=l.toUpperCase();(_=(g=a.font)==null?void 0:g.get(M.charAt(0)))==null||_.draw(i,0,0)}s.subscribe(n);function c(i){R[i?"unshift":"push"](()=>{h=i,o(0,h)})}function m(){l=this.value,s.set(l)}function w(){t=this.value,p.set(t)}return r.$$set=i=>{"data"in i&&o(5,a=i.data)},[h,l,t,s,p,a,c,m,w]}class tt extends B{constructor(e){super(),D(this,e,W,Q,q,{data:5})}}export{tt as component,$ as universal};
