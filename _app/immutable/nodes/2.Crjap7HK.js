import{s as q,n as P,r as D,b as z,e as F}from"../chunks/scheduler.BvLojk_z.js";import{S as H,i as R,e as M,s as N,c as S,y as B,h as j,o as p,j as _,z as T,A as L,g as w}from"../chunks/index.Cw0QpTS_.js";import{w as O}from"../chunks/index.BGTSHx9J.js";const V=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];async function k(l){const e=new Image;return e.src=l,new Promise(r=>{e.onload=o=>{const t=o.target;if(console.log(`Loaded image ${l} with w: ${t.width}, h:${t.height}`),t.width!=t.height)return console.log("This image is invalid!"),console.log("The width must be equal to the height."),r(null),null;if(t.width%6!=0)return console.log("This image is invalid!"),console.log("The size must be divisible by 6."),r(null),null;const n=t.width,i=n/6,c=new OffscreenCanvas(t.width,t.height).getContext("2d");c.drawImage(t,0,0);const a=c.getImageData(0,0,n,n).data,u=new Map;for(let g=0;g<36;g++){const m=g%6*i,s=Math.floor(g/6)*i,A=V[g];let b=m+6,v=s+6,y=m,x=s;for(let f=m;f<m+6;f++)for(let d=s;d<s+6;d++)a[4*(d*n+f)+3]>0&&(b=Math.min(b,f),v=Math.min(v,d),y=Math.max(y,f),x=Math.max(x,d));const C=[];for(let f=b;f<=y;f++)for(let d=v;d<=x;d++){let I=a[4*(d*n+f)+3];C.push(I>0)}console.log(A),console.log(C);const U=new E(x-v+1,y-b+1,C);u.set(A,U)}r(u)}})}class E{constructor(e,r,o){this.width=e,this.height=r,this.data=o}draw(e,r,o){for(let t=0;t<this.width;t++)for(let n=0;n<this.height;n++)this.data[n*this.width+t]&&e.fillRect(n+o,t+r,1,1);return o+this.height+1}}function G(l,e,r,o,t){const n=r.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");let i=o;for(let h=0;h<n.length;h++){if(n.charAt(h)==" "){i+=3;continue}i=e.get(n.charAt(h)).draw(l,t,i)}}const J=!1,K=!0,Q=async()=>({font:await k("font/5px.png")}),tt=Object.freeze(Object.defineProperty({__proto__:null,load:Q,prerender:K,ssr:J},Symbol.toStringTag,{value:"Module"}));function W(l){let e,r="",o,t,n,i,h,c;return{c(){e=M("canvas"),e.innerHTML=r,o=N(),t=M("input"),n=N(),i=M("input"),this.h()},l(a){e=S(a,"CANVAS",{width:!0,height:!0,class:!0,"data-svelte-h":!0}),B(e)!=="svelte-q8g1ph"&&(e.innerHTML=r),o=j(a),t=S(a,"INPUT",{type:!0,name:!0,id:!0}),n=j(a),i=S(a,"INPUT",{type:!0,name:!0,id:!0}),this.h()},h(){p(e,"width","160"),p(e,"height","16"),p(e,"class","svelte-j0inby"),p(t,"type","text"),p(t,"name",""),p(t,"id",""),p(i,"type","color"),p(i,"name",""),p(i,"id","")},m(a,u){_(a,e,u),l[6](e),_(a,o,u),_(a,t,u),T(t,l[1]),_(a,n,u),_(a,i,u),T(i,l[2]),h||(c=[L(t,"input",l[7]),L(i,"input",l[8])],h=!0)},p(a,[u]){u&2&&t.value!==a[1]&&T(t,a[1]),u&4&&T(i,a[2])},i:P,o:P,d(a){a&&(w(e),w(o),w(t),w(n),w(i)),l[6](null),h=!1,D(c)}}}function X(l,e,r){let o,t,{data:n}=e,i=O("default");z(l,i,s=>r(1,o=s));let h=O("#ffffff");z(l,h,s=>r(2,t=s));let c;function a(){if(c==null)return;const s=c.getContext("2d");s==null||s.clearRect(0,0,c.width,c.height),s.fillStyle=t,G(s,n.font,o,1,1)}i.subscribe(a),h.subscribe(a);function u(s){F[s?"unshift":"push"](()=>{c=s,r(0,c)})}function g(){o=this.value,i.set(o)}function m(){t=this.value,h.set(t)}return l.$$set=s=>{"data"in s&&r(5,n=s.data)},[c,o,t,i,h,n,u,g,m]}class et extends H{constructor(e){super(),R(this,e,X,W,q,{data:5})}}export{et as component,tt as universal};
