import{s as q,n as S,r as H,b as z,e as R}from"../chunks/scheduler.BvLojk_z.js";import{S as k,i as B,e as T,s as L,c as A,y as D,h as N,o as p,j as v,z as M,A as O,g as y}from"../chunks/index.Cw0QpTS_.js";import{w as U}from"../chunks/index.BGTSHx9J.js";const F=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];async function V(l){const e=new Image;return e.src=l,new Promise(r=>{e.onload=o=>{const t=o.target;if(console.log(`Loaded image ${l} with w: ${t.width}, h:${t.height}`),t.width!=t.height)return console.log("This image is invalid!"),console.log("The width must be equal to the height."),r(null),null;if(t.width%6!=0)return console.log("This image is invalid!"),console.log("The size must be divisible by 6."),r(null),null;const a=t.width,s=a/6,h=new OffscreenCanvas(t.width,t.height).getContext("2d");h.drawImage(t,0,0);const n=h.getImageData(0,0,a,a).data,c=new Map;for(let _=0;_<36;_++){const w=_%6*s,i=Math.floor(_/6)*s,b=F[_];let g=w+6,u=i+6,x=w,C=i;for(let f=w;f<w+6;f++)for(let d=i;d<i+6;d++)n[4*(d*a+f)+3]>0&&(g=Math.min(g,f),u=Math.min(u,d),x=Math.max(x,f),C=Math.max(C,d));const I=[];for(let f=g;f<=x;f++)for(let d=u;d<=C;d++){let P=n[4*(d*a+f)+3];I.push(P>0)}const j=new E(x-g+1,C-u+1,I);c.set(b,j)}r(c)}})}class E{constructor(e,r,o){this.width=e,this.height=r,this.data=o}draw(e,r,o){for(let t=0;t<this.width;t++)for(let a=0;a<this.height;a++)this.data[a*this.width+t]&&e.fillRect(a+o,t+r,1,1);return o+this.width+1}}const G=!1,J=!0,K=async()=>({font:await V("font/5px.png")}),$=Object.freeze(Object.defineProperty({__proto__:null,load:K,prerender:J,ssr:G},Symbol.toStringTag,{value:"Module"}));function Q(l){let e,r="",o,t,a,s,m,h;return{c(){e=T("canvas"),e.innerHTML=r,o=L(),t=T("input"),a=L(),s=T("input"),this.h()},l(n){e=A(n,"CANVAS",{width:!0,height:!0,class:!0,"data-svelte-h":!0}),D(e)!=="svelte-q8g1ph"&&(e.innerHTML=r),o=N(n),t=A(n,"INPUT",{type:!0,name:!0,id:!0}),a=N(n),s=A(n,"INPUT",{type:!0,name:!0,id:!0}),this.h()},h(){p(e,"width","160"),p(e,"height","16"),p(e,"class","svelte-1eklizg"),p(t,"type","text"),p(t,"name",""),p(t,"id",""),p(s,"type","color"),p(s,"name",""),p(s,"id","")},m(n,c){v(n,e,c),l[6](e),v(n,o,c),v(n,t,c),M(t,l[1]),v(n,a,c),v(n,s,c),M(s,l[2]),m||(h=[O(t,"input",l[7]),O(s,"input",l[8])],m=!0)},p(n,[c]){c&2&&t.value!==n[1]&&M(t,n[1]),c&4&&M(s,n[2])},i:S,o:S,d(n){n&&(y(e),y(o),y(t),y(a),y(s)),l[6](null),m=!1,H(h)}}}function W(l,e,r){let o,t,{data:a}=e,s=U("default");z(l,s,i=>r(1,o=i));let m=U("#ffffff");z(l,m,i=>r(2,t=i));let h;function n(){if(h==null)return;const i=h.getContext("2d");i==null||i.clearRect(0,0,h.width,h.height);const b=o.toUpperCase();let g=0;for(let u=0;u<b.length;u++){if(b.charAt(u)==" "){g+=5;continue}g=a.font.get(b.charAt(u)).draw(i,0,g)}}s.subscribe(n);function c(i){R[i?"unshift":"push"](()=>{h=i,r(0,h)})}function _(){o=this.value,s.set(o)}function w(){t=this.value,m.set(t)}return l.$$set=i=>{"data"in i&&r(5,a=i.data)},[h,o,t,s,m,a,c,_,w]}class tt extends k{constructor(e){super(),B(this,e,W,Q,q,{data:5})}}export{tt as component,$ as universal};
